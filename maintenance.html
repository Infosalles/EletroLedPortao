<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EletroLed</title>
</head>

<body>
    <form id="expense-form">
        <label for="expense-name">Nome da despesa:</label>
        <input type="text" id="expense-name" name="expense-name">
        <label for="expense-amount">Valor da despesa:</label>
        <input type="number" id="expense-amount" name="expense-amount">
        <input type="submit" value="Adicionar despesa">
    </form>

    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBtNgQHS2gz3HnYEyRkkkXKcdy5yEnbVBg",
            authDomain: "eletroled-8f021.firebaseapp.com",
            databaseURL: "https://eletroled-8f021-default-rtdb.firebaseio.com/",
            projectId: "eletroled-8f021",
            storageBucket: "eletroled-8f021.appspot.com",
            messagingSenderId: "339244361573",
            appId: "1:339244361573:web:fae6d83b75a5198ab4638c"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        database = firebase.database();

        document.getElementById('expense-form').addEventListener('submit', function (e) {
            e.preventDefault();
            var expenseName = document.getElementById('expense-name').value;
            var expenseAmount = document.getElementById('expense-amount').value;

            const itemRef = database.ref(`produtos/${expenseName}`);
            itemRef.set({
                produto: "",
                unidade:"",
                descricao: "",
                precoUnitario:0,
                metragemMinima:0,
                metragemMaxima:9,
            });
        });

        const expenses = [];

        function getExpenses() {
            const itemRef = database.ref("expenses");
            itemRef.on("value", function (snapshot) {
                snapshot.forEach(function (childSnapshot) {
                    expenses.push(childSnapshot.val());
                });
                console.log(expenses);
            });
        }

        getExpenses();
    </script>
</body>

</html>
